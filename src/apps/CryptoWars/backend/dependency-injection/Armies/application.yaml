services:

  CryptoWars.Players.PlayerRepository:
    class: ../../../../../Contexts/CryptoWars/Players/Infrastructure/Persistence/SqlitePlayerRepository
    arguments: [ '@Shared.ConnectionManager' ]

  CryptoWars.Players.CreatePlayer:
    class: ../../../../../Contexts/CryptoWars/Players/Application/Create/CreatePlayer
    arguments: [ '@CryptoWars.Players.PlayerRepository', '@Shared.EventBus' ]

  CryptoWars.Players.CreatePlayerOnUserCreated:
    class: ../../../../../Contexts/CryptoWars/Players/Application/Create/CreatePlayerOnUserCreated
    arguments: [ '@CryptoWars.Players.CreatePlayer' ]
    tags:
      - { name: 'domainEventSubscriber' }

  CryptoWars.Players.FindPlayer:
    class: ../../../../../Contexts/CryptoWars/Players/Application/Find/FindPlayer
    arguments: [ '@CryptoWars.Players.ArmyRepository' ]

  CryptoWars.Players.FindPlayerQueryHandler:
    class: ../../../../../Contexts/CryptoWars/Players/Application/Find/FindPlayerQueryHandler
    arguments: [ '@CryptoWars.Players.FindPlayer' ]
    tags:
      - { name: 'queryHandler' }
